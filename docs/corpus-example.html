<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Examples of corpora | The R News Book</title>
  <meta name="description" content="This is a summary of experience and methods developped for the analysis of news flow." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Examples of corpora | The R News Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a summary of experience and methods developped for the analysis of news flow." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Examples of corpora | The R News Book" />
  
  <meta name="twitter:description" content="This is a summary of experience and methods developped for the analysis of news flow." />
  

<meta name="author" content="Claude Grasland, Romain Leconte, Hugues Pecout, Etienne Toureille, …" />


<meta name="date" content="2020-07-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-3.html"/>
<link rel="next" href="corpus-tagging.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">My Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="1" data-path="object.html"><a href="object.html"><i class="fa fa-check"></i><b>1</b> OBJECTIVES OF THE BOOK</a><ul>
<li class="chapter" data-level="1.1" data-path="object.html"><a href="object.html#a-short-example"><i class="fa fa-check"></i><b>1.1</b> A short example</a></li>
<li class="chapter" data-level="1.2" data-path="object.html"><a href="object.html#the-choice-of-the-topic"><i class="fa fa-check"></i><b>1.2</b> The choice of the topic</a></li>
<li class="chapter" data-level="1.3" data-path="object.html"><a href="object.html#the-formulation-of-hypothesis"><i class="fa fa-check"></i><b>1.3</b> The formulation of hypothesis</a></li>
<li class="chapter" data-level="1.4" data-path="object.html"><a href="object.html#the-field-of-investigation"><i class="fa fa-check"></i><b>1.4</b> The field of investigation</a></li>
<li class="chapter" data-level="1.5" data-path="object.html"><a href="object.html#the-choice-of-the-methods"><i class="fa fa-check"></i><b>1.5</b> The choice of the methods</a></li>
</ul></li>
<li class="part"><span><b>I DATA ACQUISITION</b></span></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#minimum-requirement"><i class="fa fa-check"></i><b>2.1</b> Minimum requirement</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#mediacloud"><i class="fa fa-check"></i><b>2.2</b> Mediacloud</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#factiva"><i class="fa fa-check"></i><b>2.3</b> Factiva</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#europresse"><i class="fa fa-check"></i><b>2.4</b> Europresse</a></li>
<li class="chapter" data-level="2.5" data-path="data-sources.html"><a href="data-sources.html#others"><i class="fa fa-check"></i><b>2.5</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-title.html"><a href="data-title.html"><i class="fa fa-check"></i><b>3</b> Collection of titles</a><ul>
<li class="chapter" data-level="" data-path="data-title.html"><a href="data-title.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="3.1" data-path="data-title.html"><a href="data-title.html#extraction-of-data"><i class="fa fa-check"></i><b>3.1</b> Extraction of data</a></li>
<li class="chapter" data-level="3.2" data-path="data-title.html"><a href="data-title.html#transformation-in-quanteda-format."><i class="fa fa-check"></i><b>3.2</b> Transformation in quanteda format.</a></li>
<li class="chapter" data-level="3.3" data-path="data-title.html"><a href="data-title.html#storage-or-exportation"><i class="fa fa-check"></i><b>3.3</b> Storage or exportation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-rss.html"><a href="data-rss.html"><i class="fa fa-check"></i><b>4</b> Collection of rss</a><ul>
<li class="chapter" data-level="" data-path="data-rss.html"><a href="data-rss.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="4.1" data-path="data-rss.html"><a href="data-rss.html#the-example-of-rss-from-le-monde"><i class="fa fa-check"></i><b>4.1</b> The example of RSS from Le Monde</a></li>
<li class="chapter" data-level="4.2" data-path="data-rss.html"><a href="data-rss.html#cleaning-the-html-code-in-description-file"><i class="fa fa-check"></i><b>4.2</b> Cleaning the html code in description file</a></li>
<li class="chapter" data-level="4.3" data-path="data-rss.html"><a href="data-rss.html#transformation-in-quanteda-corpus"><i class="fa fa-check"></i><b>4.3</b> Transformation in quanteda corpus</a></li>
<li class="chapter" data-level="4.4" data-path="data-rss.html"><a href="data-rss.html#storage-or-exportation-1"><i class="fa fa-check"></i><b>4.4</b> Storage or exportation</a></li>
</ul></li>
<li class="part"><span><b>II CORPUS BUILDING</b></span></li>
<li class="chapter" data-level="" data-path="introduction-3.html"><a href="introduction-3.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="5" data-path="corpus-example.html"><a href="corpus-example.html"><i class="fa fa-check"></i><b>5</b> Examples of corpora</a><ul>
<li class="chapter" data-level="5.1" data-path="corpus-example.html"><a href="corpus-example.html#geomedia-corpora"><i class="fa fa-check"></i><b>5.1</b> Geomedia corpora</a><ul>
<li class="chapter" data-level="5.1.1" data-path="corpus-example.html"><a href="corpus-example.html#the-corpus-socant"><i class="fa fa-check"></i><b>5.1.1</b> The corpus “socant”</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="corpus-example.html"><a href="corpus-example.html#media-cloud-corpora"><i class="fa fa-check"></i><b>5.2</b> Media Cloud corpora</a><ul>
<li class="chapter" data-level="5.2.1" data-path="corpus-example.html"><a href="corpus-example.html#the-corpus-venise"><i class="fa fa-check"></i><b>5.2.1</b> The corpus “venise”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="corpus-tagging.html"><a href="corpus-tagging.html"><i class="fa fa-check"></i><b>6</b> Identification of a topic</a><ul>
<li class="chapter" data-level="" data-path="corpus-tagging.html"><a href="corpus-tagging.html#introduction-4"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="6.1" data-path="corpus-tagging.html"><a href="corpus-tagging.html#preparation-of-the-data"><i class="fa fa-check"></i><b>6.1</b> Preparation of the data</a></li>
<li class="chapter" data-level="6.2" data-path="corpus-tagging.html"><a href="corpus-tagging.html#the-case-of-a-single-topic-earthquake-news"><i class="fa fa-check"></i><b>6.2</b> The case of a single topic (earthquake news)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/ClaudeGrasland/newsbook" target="blank"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The R News Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="corpus_example" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Examples of corpora</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="corpus-example.html#cb1-1"></a><span class="kw">library</span>(quanteda)</span></code></pre></div>
<pre><code>## Package version: 2.0.1</code></pre>
<pre><code>## Parallel computing: 2 of 11 threads used.</code></pre>
<pre><code>## See https://quanteda.io for tutorials and examples.</code></pre>
<pre><code>## 
## Attaching package: &#39;quanteda&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:utils&#39;:
## 
##     View</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="corpus-example.html#cb7-1"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="corpus-example.html#cb11-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb11-2"><a href="corpus-example.html#cb11-2"></a><span class="kw">library</span>(tidytext)</span>
<span id="cb11-3"><a href="corpus-example.html#cb11-3"></a><span class="kw">library</span>(knitr)</span></code></pre></div>
<p>We present here a list of corpora previously elaborated for different purposes. Thye ahve been carefully elaborated by their authors for the preparation of publication and/or the preparation of teaching courses and summer schools. All of them are available here and will be use in the fllowing sections.</p>
<div id="geomedia-corpora" class="section level2">
<h2><span class="header-section-number">5.1</span> Geomedia corpora</h2>
<p>The Geomedia corpus is the result of the research project ANR Corpus Geomedia (2013-2016), coordinated by Claude Grasland (Université Paris Diderot) and Marta Severo (Univerté de Nanterre)</p>
<p>The project created a tool for the harvest of RSS flows that realized collection from daily newspapers located in all countries of the world. Contrary to Mediacloud, the Geomedia project did not collected together all the feed of a newspaper but proceed to a selection of specific topics, generally limited to the <em>international/world</em> flow and the <em>general/breaking news</em> flow. But the other flows related to sport, economy, culture, … was generaly ignored. The majority of studies realized during the project focused on the <em>international</em> feeds because they present the advantage to produce theoretically a selection of foreign news of interest for the host country where the media is located (ref.).</p>
<div id="the-corpus-socant" class="section level3">
<h3><span class="header-section-number">5.1.1</span> The corpus “socant”</h3>
<p>The “socant” corpus is a specific extraction from the Geomedia database realized in order to prepare a publication about the Migrant crisi of 2015 in the french journal <em>Socio-Anthropologie</em>. We present here a version of the corpus after several steps of cleaning described in the publication :</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="corpus-example.html#cb12-1"></a>qd&lt;-<span class="kw">readRDS</span>(<span class="st">&quot;corpora/geomedia/socant.Rdata&quot;</span>)</span>
<span id="cb12-2"><a href="corpus-example.html#cb12-2"></a><span class="kw">summary</span>(qd,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Corpus consisting of 491324 documents, showing 2 documents:
## 
##   Text Types Tokens Sentences      id     source                date lang
##  text1    21     21         1 4155294 AUS_austra 2015-01-01 00:00:37   en
##  text2    26     26         1 4155295 AUS_austra 2015-01-01 00:00:37   en
##                                                                                               url
##  http://feedproxy.google.com/~r/TheAustralianTheWorld/~3/LiIFByRSTI0/story-e6frg6so-1227171697881
##  http://feedproxy.google.com/~r/TheAustralianTheWorld/~3/AtXKdPKuoY4/story-e6frg906-1227171718666
##                                    title
##  35 feared dead in Shanghai NYE stampede
##        Amazon chief Bezos loses $US7.4bn</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="corpus-example.html#cb14-1"></a><span class="kw">head</span>(qd,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Corpus consisting of 2 documents and 6 docvars.
## text1 :
## &quot;CHINA&#39;S state-run news agency is reporting that 35 people ha...&quot;
## 
## text2 :
## &quot;AMAZON.com turned in its worst year on the market since 2008...&quot;</code></pre>
<p>The corpus is based on the international RSS feed of 26 newspapers published in 3 languages (French, English, Spanish) and located in 16 countries.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="corpus-example.html#cb16-1"></a>tt&lt;-<span class="kw">tidy</span>(qd)</span>
<span id="cb16-2"><a href="corpus-example.html#cb16-2"></a></span>
<span id="cb16-3"><a href="corpus-example.html#cb16-3"></a>lang&lt;-tt <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-4"><a href="corpus-example.html#cb16-4"></a><span class="st">      </span><span class="kw">group_by</span>(lang) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-5"><a href="corpus-example.html#cb16-5"></a><span class="st">      </span><span class="kw">summarise</span>(<span class="dt">news=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-6"><a href="corpus-example.html#cb16-6"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">pct =</span> <span class="dv">100</span><span class="op">*</span>news<span class="op">/</span><span class="kw">sum</span>(news))</span>
<span id="cb16-7"><a href="corpus-example.html#cb16-7"></a><span class="kw">kable</span>(lang, <span class="dt">digit=</span><span class="dv">1</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">lang</th>
<th align="right">news</th>
<th align="right">pct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">en</td>
<td align="right">370260</td>
<td align="right">75.4</td>
</tr>
<tr class="even">
<td align="left">es</td>
<td align="right">73198</td>
<td align="right">14.9</td>
</tr>
<tr class="odd">
<td align="left">fr</td>
<td align="right">47866</td>
<td align="right">9.7</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="corpus-example.html#cb17-1"></a>country&lt;-tt <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-2"><a href="corpus-example.html#cb17-2"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">country=</span><span class="kw">substr</span>(source,<span class="dv">1</span>,<span class="dv">3</span>))<span class="op">%&gt;%</span></span>
<span id="cb17-3"><a href="corpus-example.html#cb17-3"></a><span class="st">      </span><span class="kw">group_by</span>(country) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-4"><a href="corpus-example.html#cb17-4"></a><span class="st">      </span><span class="kw">summarise</span>(<span class="dt">news=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-5"><a href="corpus-example.html#cb17-5"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">pct =</span> <span class="dv">100</span><span class="op">*</span>news<span class="op">/</span><span class="kw">sum</span>(news))</span>
<span id="cb17-6"><a href="corpus-example.html#cb17-6"></a><span class="kw">kable</span>(country, <span class="dt">digit=</span><span class="dv">1</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">news</th>
<th align="right">pct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ARG</td>
<td align="right">2247</td>
<td align="right">0.5</td>
</tr>
<tr class="even">
<td align="left">AUS</td>
<td align="right">31237</td>
<td align="right">6.4</td>
</tr>
<tr class="odd">
<td align="left">BEL</td>
<td align="right">13664</td>
<td align="right">2.8</td>
</tr>
<tr class="even">
<td align="left">BOL</td>
<td align="right">7871</td>
<td align="right">1.6</td>
</tr>
<tr class="odd">
<td align="left">CAN</td>
<td align="right">16306</td>
<td align="right">3.3</td>
</tr>
<tr class="even">
<td align="left">DZA</td>
<td align="right">9927</td>
<td align="right">2.0</td>
</tr>
<tr class="odd">
<td align="left">ESP</td>
<td align="right">29539</td>
<td align="right">6.0</td>
</tr>
<tr class="even">
<td align="left">FRA</td>
<td align="right">24275</td>
<td align="right">4.9</td>
</tr>
<tr class="odd">
<td align="left">GBR</td>
<td align="right">120120</td>
<td align="right">24.4</td>
</tr>
<tr class="even">
<td align="left">IND</td>
<td align="right">19455</td>
<td align="right">4.0</td>
</tr>
<tr class="odd">
<td align="left">MEX</td>
<td align="right">33541</td>
<td align="right">6.8</td>
</tr>
<tr class="even">
<td align="left">MLT</td>
<td align="right">17696</td>
<td align="right">3.6</td>
</tr>
<tr class="odd">
<td align="left">MYS</td>
<td align="right">59875</td>
<td align="right">12.2</td>
</tr>
<tr class="even">
<td align="left">SGP</td>
<td align="right">72361</td>
<td align="right">14.7</td>
</tr>
<tr class="odd">
<td align="left">USA</td>
<td align="right">29877</td>
<td align="right">6.1</td>
</tr>
<tr class="even">
<td align="left">ZWE</td>
<td align="right">3333</td>
<td align="right">0.7</td>
</tr>
</tbody>
</table>
<p>Each of the source has produce different number of news through time but appears relatively regular during the period, with the exception of a short period of break of collection in January.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="corpus-example.html#cb18-1"></a>source_week&lt;-tt <span class="op">%&gt;%</span></span>
<span id="cb18-2"><a href="corpus-example.html#cb18-2"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">week=</span><span class="kw">cut</span>(<span class="kw">as.Date</span>(date), <span class="st">&quot;weeks&quot;</span>))<span class="op">%&gt;%</span></span>
<span id="cb18-3"><a href="corpus-example.html#cb18-3"></a><span class="st">              </span><span class="kw">group_by</span>(source, week)<span class="op">%&gt;%</span></span>
<span id="cb18-4"><a href="corpus-example.html#cb18-4"></a><span class="st">              </span><span class="kw">summarise</span>(<span class="dt">news=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb18-5"><a href="corpus-example.html#cb18-5"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">week =</span> <span class="kw">as.Date</span>(week))<span class="op">%&gt;%</span></span>
<span id="cb18-6"><a href="corpus-example.html#cb18-6"></a><span class="st">              </span><span class="kw">filter</span>(week <span class="op">&gt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2015-01-01&quot;</span>))<span class="op">%&gt;%</span></span>
<span id="cb18-7"><a href="corpus-example.html#cb18-7"></a><span class="st">              </span><span class="kw">filter</span>(week <span class="op">&lt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2016-01-01&quot;</span>))</span>
<span id="cb18-8"><a href="corpus-example.html#cb18-8"></a></span>
<span id="cb18-9"><a href="corpus-example.html#cb18-9"></a>p&lt;-<span class="kw">ggplot</span>(source_week, <span class="kw">aes</span>(<span class="dt">x=</span>week,<span class="dt">y=</span>news,<span class="dt">color=</span>source))<span class="op">+</span><span class="kw">geom_line</span>()<span class="op">+</span><span class="kw">scale_y_log10</span>()</span>
<span id="cb18-10"><a href="corpus-example.html#cb18-10"></a>p</span></code></pre></div>
<p><img src="newsbook_files/figure-html/socant_source_time-1.png" width="672" /></p>
</div>
</div>
<div id="media-cloud-corpora" class="section level2">
<h2><span class="header-section-number">5.2</span> Media Cloud corpora</h2>
<div id="the-corpus-venise" class="section level3">
<h3><span class="header-section-number">5.2.1</span> The corpus “venise”</h3>
<p>The corpus named “<strong>venise</strong>” has been elaborated during the H2020 ODYCCEUS summer school held in Venice in September 2019. It was the basis of exercises proposed by teachers and researchers from University Paris Diderot (Claude Grasland, ROmain Leconte, Etienne Toureille) to the members of their workshop. As students originated from a great diversity of countries, we decided to collect titles of news from Media Cloud for a five-year period from 1-1-2014 to 31-12-2018. Each student was committed to download a minimum of three newspapers from the same country with various constraints of time continuity but also relevance from media point of view (broadsheet newspapers with different political orientations when possible). The sumer school realized the collection for Germany, Austria, Italy, Spain, France United Kingdom and Netherlands. Some other countries has been further added by Claude Grasland for Belgium, Portugal, Russia and Ireland in order to complete the coverage.</p>
<p>N.B. The data has been rearranged after the summer school in order to adopt the harmonised format proposed in the present newsbook in order to take the recent evolution of quanteda toward version 2.0.</p>
<div id="list-of-newspapers" class="section level4">
<h4><span class="header-section-number">5.2.1.1</span> list of newspapers</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="corpus-example.html#cb19-1"></a><span class="kw">list.files</span>(<span class="st">&quot;corpora/mediacloud/venise&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;mc_de_AUT_dersta.Rdata&quot; &quot;mc_de_AUT_krone.Rdata&quot;  &quot;mc_de_AUT_orf.Rdata&quot;   
##  [4] &quot;mc_de_DEU_diewel.Rdata&quot; &quot;mc_de_DEU_frankf.Rdata&quot; &quot;mc_de_DEU_suddeu.Rdata&quot;
##  [7] &quot;mc_en_GBR_dailyt.Rdata&quot; &quot;mc_en_GBR_guardi.Rdata&quot; &quot;mc_en_GBR_indept.Rdata&quot;
## [10] &quot;mc_en_IRL_examin.Rdata&quot; &quot;mc_es_ESP_abc.Rdata&quot;    &quot;mc_es_ESP_elmund.Rdata&quot;
## [13] &quot;mc_es_ESP_period.Rdata&quot; &quot;mc_fr_BEL_librbe.Rdata&quot; &quot;mc_fr_FRA_figaro.Rdata&quot;
## [16] &quot;mc_fr_FRA_libera.Rdata&quot; &quot;mc_fr_FRA_lmonde.Rdata&quot; &quot;mc_it_ITA_reppub.Rdata&quot;
## [19] &quot;mc_it_ITA_stampa.Rdata&quot; &quot;mc_nl_BEL_standa.Rdata&quot; &quot;mc_nl_NLD_telegr.Rdata&quot;
## [22] &quot;mc_nl_NLD_trouw.Rdata&quot;  &quot;mc_pt_PRT_acoria.Rdata&quot; &quot;mc_pt_PRT_expres.Rdata&quot;
## [25] &quot;mc_pt_PRT_public.Rdata&quot; &quot;mc_ru_RUS_kommer.Rdata&quot; &quot;mc_ru_RUS_nezgaz.Rdata&quot;
## [28] &quot;recode.R&quot;</code></pre>
<p>&lt;tbd : provide better metadata …&gt;</p>
</div>
<div id="example-frankfurter-allgemaine-zeitung-frankf" class="section level4">
<h4><span class="header-section-number">5.2.1.2</span> example : Frankfurter Allgemaine Zeitung (frankf)</h4>
<p>We present briefly an example on how to load and use the corpus. Here, we try just to examine the number of news published by the FAZ related to climate questions. More precisely, we research the news including the word <em>klima</em> with prefix or suffix</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="corpus-example.html#cb21-1"></a>qd&lt;-<span class="kw">readRDS</span>(<span class="st">&quot;corpora/mediacloud/venise/mc_de_DEU_frankf.Rdata&quot;</span>)</span>
<span id="cb21-2"><a href="corpus-example.html#cb21-2"></a><span class="kw">summary</span>(qd,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Corpus consisting of 198646 documents, showing 2 documents:
## 
##   Text Types Tokens Sentences      id     source                date lang
##  text1     8      8         1 frankf1 DEU_frankf 2014-01-02 14:19:10   de
##  text2     8      8         1 frankf2 DEU_frankf 2014-01-12 07:00:00   de</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="corpus-example.html#cb23-1"></a><span class="kw">head</span>(qd,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Corpus consisting of 2 documents and 4 docvars.
## text1 :
## &quot;Andrea Henkel: Ein bisschen Wehmut im Wohnzimmer&quot;
## 
## text2 :
## &quot;Schlaganfallforschung: Wenn das Herz dem Hirn schadet&quot;</code></pre>
<p>We check briefly the regularity of the production of news through time :</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="corpus-example.html#cb25-1"></a>x&lt;-<span class="kw">tidy</span>(qd)</span>
<span id="cb25-2"><a href="corpus-example.html#cb25-2"></a>faz_time &lt;-<span class="st"> </span><span class="kw">tidy</span>(qd) <span class="op">%&gt;%</span></span>
<span id="cb25-3"><a href="corpus-example.html#cb25-3"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">weeks=</span><span class="kw">cut</span>(<span class="kw">as.Date</span>(date), <span class="st">&quot;weeks&quot;</span>))<span class="op">%&gt;%</span></span>
<span id="cb25-4"><a href="corpus-example.html#cb25-4"></a><span class="st">              </span><span class="kw">group_by</span>(weeks)<span class="op">%&gt;%</span></span>
<span id="cb25-5"><a href="corpus-example.html#cb25-5"></a><span class="st">              </span><span class="kw">summarise</span>(<span class="dt">newstot=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb25-6"><a href="corpus-example.html#cb25-6"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">weeks =</span> <span class="kw">as.Date</span>(weeks)) <span class="op">%&gt;%</span></span>
<span id="cb25-7"><a href="corpus-example.html#cb25-7"></a><span class="st">              </span><span class="kw">filter</span>(weeks <span class="op">&gt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2014-01-01&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb25-8"><a href="corpus-example.html#cb25-8"></a><span class="st">              </span><span class="kw">filter</span>(weeks <span class="op">&lt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2018-12-25&quot;</span>))</span>
<span id="cb25-9"><a href="corpus-example.html#cb25-9"></a>  </span>
<span id="cb25-10"><a href="corpus-example.html#cb25-10"></a>p&lt;-<span class="kw">ggplot</span>(faz_time, <span class="kw">aes</span>(<span class="dt">x=</span>weeks,<span class="dt">y=</span>newstot))<span class="op">+</span></span>
<span id="cb25-11"><a href="corpus-example.html#cb25-11"></a><span class="st">   </span><span class="kw">geom_line</span>()<span class="op">+</span></span>
<span id="cb25-12"><a href="corpus-example.html#cb25-12"></a><span class="st">   </span><span class="kw">scale_y_continuous</span>(<span class="st">&quot;Number of news published by week&quot;</span>) <span class="op">+</span></span>
<span id="cb25-13"><a href="corpus-example.html#cb25-13"></a><span class="st">   </span><span class="kw">ggtitle</span>(<span class="st">&quot;Regularity of the RSS flow of Frankfurter Allgemeine Zeitung (2015-2018) ?&quot;</span>)</span>
<span id="cb25-14"><a href="corpus-example.html#cb25-14"></a>p</span></code></pre></div>
<p><img src="newsbook_files/figure-html/faz_2014_2018-1.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="corpus-example.html#cb26-1"></a>dico_klima&lt;-<span class="kw">dictionary</span>(<span class="kw">list</span> (<span class="dt">QUAKE =</span> <span class="kw">c</span>(<span class="st">&quot;*klima*&quot;</span>)))</span>
<span id="cb26-2"><a href="corpus-example.html#cb26-2"></a>tok&lt;-<span class="kw">tokens</span>(qd)</span>
<span id="cb26-3"><a href="corpus-example.html#cb26-3"></a>qd<span class="op">$</span>klima_nb&lt;-<span class="kw">as.vector</span>(<span class="kw">dfm</span>(tok, <span class="dt">dictionary=</span>dico_klima))</span>
<span id="cb26-4"><a href="corpus-example.html#cb26-4"></a>qd<span class="op">$</span>klima&lt;-qd<span class="op">$</span>klima_nb<span class="op">&gt;</span><span class="dv">0</span></span>
<span id="cb26-5"><a href="corpus-example.html#cb26-5"></a><span class="kw">table</span>(qd<span class="op">$</span>klima_nb)</span></code></pre></div>
<pre><code>## 
##      0      1      2 
## 197908    706     32</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="corpus-example.html#cb28-1"></a>x&lt;-<span class="kw">tidy</span>(qd)</span>
<span id="cb28-2"><a href="corpus-example.html#cb28-2"></a>klima_time &lt;-<span class="st"> </span><span class="kw">tidy</span>(qd) <span class="op">%&gt;%</span></span>
<span id="cb28-3"><a href="corpus-example.html#cb28-3"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">month=</span><span class="kw">cut</span>(<span class="kw">as.Date</span>(date), <span class="st">&quot;months&quot;</span>))<span class="op">%&gt;%</span></span>
<span id="cb28-4"><a href="corpus-example.html#cb28-4"></a><span class="st">              </span><span class="kw">group_by</span>(source,month)<span class="op">%&gt;%</span></span>
<span id="cb28-5"><a href="corpus-example.html#cb28-5"></a><span class="st">              </span><span class="kw">summarise</span>(<span class="dt">newstot=</span><span class="kw">n</span>(),<span class="dt">klimatot=</span><span class="kw">sum</span>(klima), <span class="dt">klimapct=</span><span class="dv">100</span><span class="op">*</span>klimatot<span class="op">/</span>newstot) <span class="op">%&gt;%</span></span>
<span id="cb28-6"><a href="corpus-example.html#cb28-6"></a><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">month =</span> <span class="kw">as.Date</span>(month)<span class="op">+</span><span class="dv">15</span>)</span>
<span id="cb28-7"><a href="corpus-example.html#cb28-7"></a>  </span>
<span id="cb28-8"><a href="corpus-example.html#cb28-8"></a>p&lt;-<span class="kw">ggplot</span>(klima_time, <span class="kw">aes</span>(<span class="dt">x=</span>month,<span class="dt">y=</span>klimapct,<span class="dt">color=</span>source))<span class="op">+</span></span>
<span id="cb28-9"><a href="corpus-example.html#cb28-9"></a><span class="st">   </span><span class="kw">geom_line</span>()<span class="op">+</span></span>
<span id="cb28-10"><a href="corpus-example.html#cb28-10"></a><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)<span class="op">+</span></span>
<span id="cb28-11"><a href="corpus-example.html#cb28-11"></a><span class="st">   </span><span class="kw">scale_y_continuous</span>(<span class="st">&quot;% of title news including -klima-&quot;</span>) <span class="op">+</span></span>
<span id="cb28-12"><a href="corpus-example.html#cb28-12"></a><span class="st">   </span><span class="kw">ggtitle</span>(<span class="st">&quot;Salience of klima in FAZ (2015-2018)&quot;</span>)</span>
<span id="cb28-13"><a href="corpus-example.html#cb28-13"></a>p</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="newsbook_files/figure-html/klima_2014_2018-1.png" width="672" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="corpus-tagging.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ClaudeGrasland/newsbook/edit/master/21-corpus-example.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["newsbook.pdf", "newsbook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
