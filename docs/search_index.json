[
["corpus-tagging.html", "Chapter 6 Identification of a topic Introduction 6.1 Preparation of the data 6.2 The case of a single topic (earthquake news)", " Chapter 6 Identification of a topic library(quanteda) ## Package version: 2.0.1 ## Parallel computing: 2 of 11 threads used. ## See https://quanteda.io for tutorials and examples. ## ## Attaching package: &#39;quanteda&#39; ## The following object is masked from &#39;package:utils&#39;: ## ## View library(dplyr) ## ## Attaching package: &#39;dplyr&#39; ## The following objects are masked from &#39;package:stats&#39;: ## ## filter, lag ## The following objects are masked from &#39;package:base&#39;: ## ## intersect, setdiff, setequal, union library(ggplot2) library(tidytext) library(knitr) Introduction In the majority of case, the researcher try to identify news belonging to a specific topic of interest in the whole corpus. This topic of interest can be characterized by a simple level (e.g. does the news speak about earthquakes ?) but it is also possible that the topic of interest is more complex and can be divided in sub-topics (e.g. does the news speak about migrants or refugees or asylum seeker ?). Finally, the topic can be related to a predefined grid with a lot of options, like in the case of the research of geographical tags (e.g. what are the countries mentionned in the news ?). The important point in all previous situations is the fact that the topics are defined in advance by the researcher, which means that we proceed to the analysis in a deductive way. An alternative strategy could be to proceed in an inductive way, like in the case of lda() and other methods of clustering that do not specify initially what will be the category obtained. Definition of tags : a tag is an attribute of news resulting from the application of a preconceived grid of analysis, taking the boolean form TRUE of FALSE. 6.1 Preparation of the data In this chapter, we will extract a sample of 4 french and belgian newspapers from the corpus socant. corp&lt;-readRDS(&quot;corpora/geomedia/socant.Rdata&quot;) qd&lt;-corp[substr(corp$source,1,3) %in% c(&quot;FRA&quot;, &quot;BEL&quot;)] table(qd$source) ## ## BEL_derheu BEL_lesoir FRA_figaro FRA_lmonde ## 5736 7928 8946 15329 We decide to merge title + description in the same filed of text. texts(qd)&lt;-as.character(paste(qd$title, texts(qd), sep=&quot;. &quot;)) summary(qd,3) ## Corpus consisting of 37939 documents, showing 3 documents: ## ## Text Types Tokens Sentences id source date lang ## text3 32 41 2 4155316 FRA_lmonde 2015-01-01 00:16:51 fr ## text57 33 37 2 4155781 FRA_lmonde 2015-01-01 04:17:00 fr ## text58 33 37 2 4155781 FRA_lmonde 2015-01-01 04:17:00 fr ## url ## http://www.lemonde.fr/asie-pacifique/article/2014/12/31/au-moins-35-morts-dans-des-bousculades-du-nouvel-an-a-shanghai_4548239_3216.html ## http://www.lemonde.fr/asie-pacifique/article/2015/01/01/la-coree-du-nord-accepte-le-dialogue-avec-la-coree-du-sud_4548259_3216.html ## http://www.lemonde.fr/asie-pacifique/article/2015/01/01/la-coree-du-nord-accepte-le-dialogue-avec-la-coree-du-sud_4548259_3216.html ## title ## Au moins 35 morts dans une bousculade lors du Nouvel An à Shanghaï ## La Corée du Nord accepte le dialogue avec la Corée du Sud ## La Corée du Nord accepte le dialogue avec la Corée du Sud 6.2 The case of a single topic (earthquake news) We know that two giant earthquakes occured in Nepal in spring 2015 and we want to examine what has been the coverage of this event in our two french newspapers. But we want also more generally to have a look at all the news related to earhquake during the period. As our newspapers are in french language, we have to provide a list of keywords or regular expression associated to the topic in order to define if the tag “QUAKE” can be considered as TRUE or FALSE for each of the news. dico_quake&lt;-dictionary(list (QUAKE = c(&quot;tremblement de terre&quot;, &quot;tremblements de terre&quot;, &quot;IPGP&quot;, &quot;USGS&quot;, &quot;séisme*&quot;, &quot;secousse*&quot;, &quot;sismique*&quot;, &quot;richter&quot;, &quot;tsunami*&quot;))) dico_quake ## Dictionary object with 1 key entry. ## - [QUAKE]: ## - tremblement de terre, tremblements de terre, ipgp, usgs, séisme*, secousse*, sismique*, richter, tsunami* After tokenization, we can extract the dfm matrix which gives the number of occurences of selected keywords in the news : tok&lt;-tokens(qd) qd$quake_nb&lt;-as.vector(dfm(tok, dictionary=dico_quake)) qd$quake&lt;-qd$quake_nb&gt;0 table(qd$quake,qd$source) ## ## BEL_derheu BEL_lesoir FRA_figaro FRA_lmonde ## FALSE 5648 7800 8880 15138 ## TRUE 88 128 66 191 table(qd$quake_nb,qd$source) ## ## BEL_derheu BEL_lesoir FRA_figaro FRA_lmonde ## 0 5648 7800 8880 15138 ## 1 32 71 33 53 ## 2 28 35 21 100 ## 3 24 21 11 32 ## 4 4 1 0 6 ## 6 0 0 1 0 We can have a look at the news that has collected the maximum number of keywords : texts(qd[qd$quake_nb&gt;5]) ## text139605 ## &quot;L&#39;un des séismes les plus meurtriers depuis le tsunami de 2004. Le 26 décembre 2004, un tremblement de terre de magnitude 9,3 au large de l&#39;Indonésie, suivi d&#39;un énorme tsunami, faisait plus de 220.000 morts. Depuis, une dizaine de violentes secousses sismiques ont endeuillé plusieurs régions du globe.&quot; But we can also have a look at the salience of the topic by weeks : x&lt;-tidy(qd) quake_time &lt;- tidy(qd) %&gt;% mutate(week=cut(as.Date(date), &quot;weeks&quot;))%&gt;% group_by(source,week)%&gt;% summarise(newstot=n(),quaktot=sum(quake), quakpct=100*quaktot/newstot) %&gt;% mutate(week = as.Date(week)) p&lt;-ggplot(quake_time, aes(x=week,y=quakpct,color=source))+ geom_line()+ scale_y_continuous(&quot;% of news related to earthquakes&quot;) + ggtitle(&quot;Salience of earthquake topic in international RSS in 2015&quot;) p "]
]
